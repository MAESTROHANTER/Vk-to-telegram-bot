# Vk-to-telegram-bot-pure-js

![Кнопка активации](https://i.imgur.com/0pJgpb2.png)
### Что это
Простейший бот для пересылки сообщений из ВК в Телегу. Собран в виде расширения для google chrome, который полностью работает на обычном js. Работает на активной странице диалога. На поле для ввода появляется кнопка, при актиации которой запускается скрипт. Мне нужно было максимально простое решение и как можно скорей. Остальные варианты что я нашёл либо слишком сложные, либо нуждаются в доработке, либо просто не работали. Мне показалось, что кому-то это может пригодится - поэтому вы это читаете.

### Настройка
Думаю описывать процесс установки расширения в хром не нужно, тем более что если совсем упороться, то бота можно запускать вставив содержимое скрипта в консоль хрома, поэтому перейдём сразу к настройкам. Необходимые данные, которые вам нужно вставить в script.js:
- Токен телеграм ботинка. Узнать можно у @BotFather.
- ID чата телеграм. Получить ID чата можно так:
```sh
Пишите что-то в нужном вам чате. Подставляете ваш токен в переменную и выполняете весь код в консоли разработчика хрома:

token = 'Ваш:токен'
let request1 = new XMLHttpRequest();
request1.open("GET", "https://api.telegram.org/bot" + token + "/getUpdates?", true);
request1.onload = () => {console.log(request1.responseText)}
request1.send();

В ответ получаете кучу текста, в ней вас интересует переменная id:
... "sender_chat":{"id":-вашchatid, ... (обязательно с минусом вначале)
```
- Также ботинок должен быть админом группы с выключенным Privacy mode и включённым Allow groups. Эти параметры также можно настроить в @BotFather.
- Дальше можно ничего не настраивать, но я всё же уточню, что переменные interval и msg_buffer напрямую влияют на потребление ресурсов вашего пк. Я не замерял сколько может жрать диалог вконтактика, но сильно увеличивать буфер равно как и значительно понижать интервал НЕ рекомендую.

Дорабатывать бота планирую до идеальной пересылки ссылок (сейчас есть косяки), больше мне в принципе ничего не нужно.
